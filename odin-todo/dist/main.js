(()=>{"use strict";const e={home:[]},t=[];let o={home:[]},n={home:[]};const c=(t,o)=>{const n=[];e[t]=n,n.color=o},l=(t,o,n,c,l,d)=>{const i={};i.project=t,i.title=o,i.description=n,i.dueDate=c,i.time=l,i.priority=d,void 0===e[t]&&(e[t]=[]),e[t].push(i)};let d="oldest";const i=t=>{const c=document.querySelector(".projects-container");c.textContent="";const l=document.querySelector(".main-container");if(l.textContent="","home"===t){const e=document.createElement("div");e.textContent="Tasks",l.appendChild(e)}else{const e=document.createElement("div");e.textContent=t,l.appendChild(e)}let i;"oldest"===d?i=e:"date"===d?(m(),i=o):i="priority"===d?n:e;for(const e in i){const o=document.createElement("div");o.setAttribute("class","line-container");const n=document.createElement("div"),d=document.createElement("div"),r=document.createElement("div");r.setAttribute("class","delete-project"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20"><path d="M6.062 15 5 13.938 8.938 10 5 6.062 6.062 5 10 8.938 13.938 5 15 6.062 11.062 10 15 13.938 13.938 15 10 11.062Z"/></svg>',console.log(`${e}: ${i[e].color} : ${i[e]}`);let s=0;for(const o of i[e]){if(o.project===t){const e=document.createElement("div");e.setAttribute("class","task-container");const t=document.createElement("div");t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path d="M6.4 19 5 17.6l5.6-5.6L5 6.4 6.4 5l5.6 5.6L17.6 5 19 6.4 13.4 12l5.6 5.6-1.4 1.4-5.6-5.6Z"/></svg>';const n=document.createElement("div");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path d="M12 22q-2.075 0-3.9-.788-1.825-.787-3.175-2.137-1.35-1.35-2.137-3.175Q2 14.075 2 12t.788-3.9q.787-1.825 2.137-3.175 1.35-1.35 3.175-2.138Q9.925 2 12 2t3.9.787q1.825.788 3.175 2.138 1.35 1.35 2.137 3.175Q22 9.925 22 12t-.788 3.9q-.787 1.825-2.137 3.175-1.35 1.35-3.175 2.137Q14.075 22 12 22Zm0-2q3.35 0 5.675-2.325Q20 15.35 20 12q0-3.35-2.325-5.675Q15.35 4 12 4 8.65 4 6.325 6.325 4 8.65 4 12q0 3.35 2.325 5.675Q8.65 20 12 20Zm0-8Z"/></svg>';const c=document.createElement("div");c.textContent=`${o.title}, ${o.description}, ${o.dueDate}, ${o.time}, ${o.priority} priority`,e.appendChild(n),e.appendChild(c),e.appendChild(t),l.appendChild(e),a(o.project,o,t),u(o.project,o,n)}s++,console.log(`${o.project}, ${o.title}, ${o.description}, ${o.dueDate}, ${o.time}, ${o.priority}`)}n.textContent=e,i[e].color,n.style.backgroundColor=i[e].color,d.textContent=s,o.appendChild(n),o.appendChild(d),"home"!=e&&o.appendChild(r),c.appendChild(o),s=0}console.log("-------------------"),console.log("")},r=()=>{const e=document.querySelector(".projects-container").children;for(const t of e)t.firstChild.addEventListener("click",(()=>{i(t.firstChild.textContent),r()})),"home"!=t.firstChild.textContent&&t.querySelector(".delete-project").addEventListener("click",(()=>{console.log("clicked delete"),s(t.firstChild.textContent)}))},s=t=>{delete e[t],i("home"),r()},a=(t,o,n)=>{n.addEventListener("click",(()=>{const n=e[t].indexOf(o);e[t].splice(n,1),i(t),r()}))},u=(o,n,c)=>{c.addEventListener("click",(()=>{const c=e[o].indexOf(n);e[o].splice(c,1),(e=>{t.push(e)})(n),i(o),r()}))},m=(document.querySelector(".archive-button").addEventListener("click",(()=>{const o=document.querySelector(".main-container");o.textContent="";for(let n=t.length-1;n>=0;n--){const c=t[n],l=document.createElement("div");l.setAttribute("class","archive-row");const d=document.createElement("div");d.textContent=c.project,d.style.backgroundColor=e[c.project].color;const i=document.createElement("div");i.textContent=`${c.title}, ${c.description}, ${c.dueDate}, ${c.time}, ${c.priority} priority`,l.appendChild(d),l.appendChild(i),o.appendChild(l)}})),(()=>{const e=document.querySelector(".projects-container").children;document.querySelector(".delete-project-button").addEventListener("click",(()=>{for(const t of e){const e=t.lastChild;"block"===e.style.display?e.style.display="none":e.style.display="block"}}))})(),document.querySelector(".sort-oldest").addEventListener("click",(()=>{d="oldest",i("home"),r()})),document.querySelector(".sort-date").addEventListener("click",(()=>{d="date",i("home"),r()})),document.querySelector(".sort-priority").addEventListener("click",(()=>{d="priority",i("home"),r()})),()=>{o=structuredClone(e);for(const e in o)o[e].sort((function(e,t){const o=new Date(e.dueDate+" "+e.time);console.log(o);const n=new Date(t.dueDate+" "+t.time);return console.log(n),o-n}))});l("home","Read","Talking to strangers",new Date(2022,7,27,10),"12","high"),l("Workout","Gym","Pull day",new Date(2022,7,27,5),"9","high"),c("School"),l("School","CS373 Hw 1","Review slides and code",new Date(2022,7,28,10),"11","high"),l("School","CS348 Hw 2","Complete",new Date(2022,7,27,8),"11","high"),i("home"),r(),(()=>{const e=document.querySelector(".project-modal"),t=document.querySelector(".add-project"),o=document.querySelector(".close-project-button"),n=document.getElementById("project-name"),l=document.getElementById("project-color"),d=document.querySelector(".create-project-button");function s(){e.classList.toggle("show-modal")}t.addEventListener("click",s),o.addEventListener("click",s),window.addEventListener("click",(function(t){t.target===e&&s()})),d.addEventListener("click",(()=>{c(n.value,l.value),i(n.value),r(),function(e){const t=document.getElementById("project-list"),o=document.createElement("option");o.value=e,o.textContent=e,t.appendChild(o)}(n.value),s(),n.value=""}))})(),(()=>{const t=document.querySelector(".task-modal"),o=document.querySelector(".add-task"),n=document.querySelector(".close-task-button"),c=document.querySelector(".create-task-button"),d=document.getElementById("project-list"),s=document.getElementById("task-name"),a=document.getElementById("task-description"),u=document.getElementById("task-date"),m=document.getElementById("task-time"),p=document.getElementById("task-priority");function h(){t.classList.toggle("show-modal")}!function(){const t=document.getElementById("project-list");for(const o in e)if("home"!=o){const e=document.createElement("option");e.value=o,e.textContent=o,t.appendChild(e)}}(),o.addEventListener("click",h),n.addEventListener("click",h),window.addEventListener("click",(function(e){e.target===t&&h()})),c.addEventListener("click",(()=>{l(d.value,s.value,a.value,u.value,m.value,p.value),i(d.value),r(),h(),d.value="home",s.value="",a.value="",u.value="",m.value="",p.value="low"}))})()})();